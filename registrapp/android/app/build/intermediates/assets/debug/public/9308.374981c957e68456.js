"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9308],{9308:(y,c,s)=>{s.r(c),s.d(c,{RegistroPageModule:()=>T});var m=s(6814),u=s(95),a=s(9004),d=s(3044),p=s(5861),h=s(2999),e=s(6689),C=s(4414),M=s(9862),f=s(6593);function _(o,l){if(1&o&&(e.TgZ(0,"ion-select-option",14),e._uU(1),e.qZA()),2&o){const g=l.$implicit;e.Q6J("value",g),e.xp6(1),e.Oqu(g.name)}}function Z(o,l){if(1&o&&(e.TgZ(0,"ion-select-option",14),e._uU(1),e.qZA()),2&o){const g=l.$implicit;e.Q6J("value",g.name),e.xp6(1),e.Oqu(g.name)}}class R{constructor(){this.nombre="",this.edad=0,this.rut="",this.carrera="",this.email="",this.contrasena="",this.token=!1,this.selectedCity={id:0,name:""},this.selectedCommune=""}}const v=[{path:"",component:(()=>{var o;class l{constructor(t,n,r){this.navCtrl=t,this.http=n,this.sanitizer=r,this.usuarios=[],this.nombre="",this.edad=0,this.rut="",this.carrera="",this.email="",this.contrasena="",this.token=!1,this.selectedCity={id:0,name:""},this.selectedCommune="",this.cities=[],this.communes=[]}ngOnInit(){this.http.get("https://dev.matiivilla.cl/duoc/location/region").subscribe({next:t=>{this.cities=t.data.map(n=>({id:n.id,name:n.nombre}))},error:t=>{console.error("Error al obtener la lista de ciudades:",t)}})}guardarDatos(){var t=this;return(0,p.Z)(function*(){let n=new R;n.nombre=t.nombre,n.edad=t.edad,n.rut=t.rut,n.carrera=t.carrera,n.email=t.email,n.contrasena=t.contrasena,n.token=t.token,n.selectedCity=t.selectedCity,n.selectedCommune=t.selectedCommune,t.usuarios.push(n),yield h.K.set({key:"usuarios",value:JSON.stringify(t.usuarios)})})()}loadCommunes(t){this.http.get(`https://dev.matiivilla.cl/duoc/location/comuna/${t.id}`).subscribe({next:r=>{this.communes=r.data.map(i=>({id:i.id,name:i.nombre}))},error:r=>{console.error("Error al obtener la lista de comunas:",r)}})}obtenerDatos(){var t=this;return(0,p.Z)(function*(){const n=yield h.K.get({key:"usuarios"});t.usuarios=n.value?JSON.parse(n.value):[]})()}}return(o=l).\u0275fac=function(t){return new(t||o)(e.Y36(C.SH),e.Y36(M.eN),e.Y36(f.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registro"]],decls:32,vars:12,consts:[[3,"translucent"],[3,"fullscreen"],["label","Nombre:",3,"ngModel","ngModelChange"],["label","Edad:","type","number",3,"ngModel","ngModelChange"],["label","Rut:","type","text","placeholder","12456789-k",3,"ngModel","ngModelChange"],["label","Carrera:",3,"ngModel","ngModelChange"],["position","stacked"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["label","Email:","type","email",3,"ngModel","ngModelChange"],["label","Contrase\xf1a:","type","password",3,"ngModel","ngModelChange"],[1,"botonRegistrarme",3,"click"],["routerLink","/login","expand","block",1,"ion-margin-top"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"registro"),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-list")(6,"ion-item")(7,"ion-input",2),e.NdJ("ngModelChange",function(i){return n.nombre=i}),e.qZA()(),e.TgZ(8,"ion-item")(9,"ion-input",3),e.NdJ("ngModelChange",function(i){return n.edad=i}),e.qZA()(),e.TgZ(10,"ion-item")(11,"ion-input",4),e.NdJ("ngModelChange",function(i){return n.rut=i}),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-input",5),e.NdJ("ngModelChange",function(i){return n.carrera=i}),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-label",6),e._uU(16,"Ciudad"),e.qZA(),e.TgZ(17,"ion-select",7),e.NdJ("ngModelChange",function(i){return n.selectedCity=i})("ionChange",function(){return n.loadCommunes(n.selectedCity)}),e.YNc(18,_,2,2,"ion-select-option",8),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-label",6),e._uU(21,"Comuna"),e.qZA(),e.TgZ(22,"ion-select",9),e.NdJ("ngModelChange",function(i){return n.selectedCommune=i}),e.YNc(23,Z,2,2,"ion-select-option",8),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-input",10),e.NdJ("ngModelChange",function(i){return n.email=i}),e.qZA()(),e.TgZ(26,"ion-item")(27,"ion-input",11),e.NdJ("ngModelChange",function(i){return n.contrasena=i}),e.qZA()()(),e.TgZ(28,"ion-button",12),e.NdJ("click",function(){return n.guardarDatos()}),e._uU(29,"Resgistrarme"),e.qZA(),e.TgZ(30,"ion-button",13),e._uU(31,"Volver al login"),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngModel",n.nombre),e.xp6(2),e.Q6J("ngModel",n.edad),e.xp6(2),e.Q6J("ngModel",n.rut),e.xp6(2),e.Q6J("ngModel",n.carrera),e.xp6(4),e.Q6J("ngModel",n.selectedCity),e.xp6(1),e.Q6J("ngForOf",n.cities),e.xp6(4),e.Q6J("ngModel",n.selectedCommune),e.xp6(1),e.Q6J("ngForOf",n.communes),e.xp6(2),e.Q6J("ngModel",n.email),e.xp6(2),e.Q6J("ngModel",n.contrasena))},dependencies:[m.sg,u.JJ,u.On,a.YG,a.W2,a.Gu,a.pK,a.Ie,a.Q$,a.q_,a.t9,a.n0,a.wd,a.sr,a.as,a.QI,a.j9,a.YI,d.rH],styles:[".botonRegistrarme[_ngcontent-%COMP%], .ion-margin-top[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:20%;margin-right:20%}"]}),l})()}];let J=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(v),d.Bz]}),l})(),T=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,u.u5,a.Pc,J]}),l})()}}]);